<!DOCTYPE html>

<html>

    <head>
        <title> Arrows Express - Profile </title> 
        <link rel="icon" type="image/png" href="../images/DLSU_Logo.png">
        <link rel="stylesheet" href="../css/mobile.css">
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script src="../js/User.js"> </script>

    </head>
        <style> 
            .member_card {
                background-image: linear-gradient(15deg, rgba(0, 119, 30, .39) 50%, rgba(0, 119, 30, 0) 50.1%);
                width: 25rem;
                height: 35rem;
                border-radius: 2rem;
                scale: 1.5;
                position: relative;
                top: 20rem;

            }

            .member_card > .triangle {
                position:relative;

                background-color: rgba(0, 119, 30, 1);
                width: 22rem;
                height: 17rem;

                top: -6rem;
                left: 3rem;
                
                clip-path: polygon(100% 42%, 0 81%, 76% 100%);

            }

            .member_card > img{
                position: relative;
                top: 3rem;
                left: 2.5rem;
                border-radius: 1rem;
                width: 20rem;
                height: 20rem;
                background-size: cover;
            }

            .member_card > div {
                position: relative;
                left: -3rem;
                top: -12rem;

                text-align: end;
                line-height: 0;
                
            }
            
            .member_card > div > h4 {
                font-size: 1.5rem;
                font-weight: 300;
                letter-spacing: .3rem;
            }

            .member_card > h6 {
                font-size: 1.5rem;
                font-weight: 100;
                letter-spacing: 0.2rem;
                position: relative;
                top: -10rem;
                text-align: center;
            }

            .profile_box {
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                height: 100%;
                margin: 0;
            }

            .landing {
                height: 100%;
                margin: 0;
            }

            .nav_card{
                display: flex;
                flex-direction: column;
                color: white;
                background: none;
                gap: 0.1rem;
                border-radius: 3rem 3rem 0 0;
                height: auto;
                z-index: 100;
                margin-top: auto;
                flex-wrap: wrap;
                align-items: flex-start;
                justify-content: center;

                overflow: hidden;
            }

            .nav_card_row > a {
                display: flex;
                color: white;
                width: 100% !important;
                text-decoration: none;
                border-radius: 1rem;
                gap:2rem;
                justify-content: center;
                padding: 1rem;
                background-image: linear-gradient(to bottom, rgba(37, 37, 37, 0.6), rgba(15, 16, 16, 0.6));
                background-size: 100% 200%;
                background-position-y: 100%;
                
                transition: 150ms background-position-y;
            }

            .nav_card_row > a:hover {
                background-position-y: 0%;
            }

            .nav_card_row > a:hover > img {
                scale: 1.05;
            }


            .nav_card_row > a > img {
                width: 8rem;
                align-self: center;
                transition: 150ms scale;
            }

            .nav_card_row > a > div {
                display: flex;
                width: 100%;
                flex-direction: column;
                vertical-align: middle;
                margin-top: auto;
                margin-bottom: auto;
            }

            .nav_card_row {
                display: flex;
                width: 100%;
                gap: 0.1rem;
                height: 20rem;
                flex: 1;
            }

            @media (min-aspect-ratio: 4/3) {
                .profile_box {
                    flex-direction: row;
                    gap: 20rem;
                }

                .member_card {
                    top: 0;
                    left: 0;
                }

                .nav_card {
                    margin-top: 5rem;
                    border-radius: 3rem;
                }

                .nav_card_row {
                    height: 25rem;
                }

                .nav_card_row > a {
                    padding: 5rem;
                }
            }

        </style>
    <body>
        <script type="text/javascript">
            
            window.onload = function() {
    
                    {{!-- document.getElementById("success_box").style.display = "none"; --}}

                    var info_change_success = new URLSearchParams(window.location.search).get('info_change_success');
                    var pw_change_success = new URLSearchParams(window.location.search).get('pw_change_success');
                    var code_change_success = new URLSearchParams(window.location.search).get('code_change_success');
                    
                    if (info_change_success != null && info_change_success == "true"){
                        console.log('success');
                        document.getElementById("success_box").style.display = "block";
                        $("#success_message").text("Information changed successfully!");
                        
                        setTimeout(function()
                        {
                            document.getElementById("success_box").style.display = "none";
                        }, 5000);
                    }

                    if(pw_change_success != null && pw_change_success=="true"){
                        document.getElementById("success_box").style.display = "block";
                        $("#success_message").text("Password changed successfully!");
                        
                        setTimeout(function()
                        {
                            document.getElementById("success_box").style.display = "none";
                        }, 5000);
                    }
                    
                    if(code_change_success != null && code_change_success=="true"){
                        document.getElementById("success_box").style.display = "block";
                        $("#success_message").text("Security code changed successfully!");
                        
                        setTimeout(function()
                        {
                            document.getElementById("success_box").style.display = "none";
                        }, 5000);
                    }
                    
                };

        
        </script>

        <div class="navbar">
            <div class="navbar_top">
                <img src="../images/DLSU_Logo.png">
                <h2>De La Salle University</h2>
                <button id="navbar_button"><div class="arrow"></div></button>
                <div class="navbar_desktop">
                    <a href="/">HOME</a>
                    <a href="/Search">SEARCH</a>
                    <a href="/Profile">{{details.first_name}}</a>
                </div>
            </div>
            <div class="navbar_content">
                <a href="/">HOME</a>
                <a href="/Search">SEARCH</a>
                <a href="/Login">{{details.first_name}}</a>
            </div>
        </div>

        <div class="landing_background"></div>
                <div class="landing">
            <div class="profile_box">

                    <div class="member_card" id="info_box">
                        <img src="{{details.profile_picture}}" id = "profile_picture">
                        <div class="triangle"></div>
                        <div>
                            <h3>{{details.first_name}} {{details.last_name}}</h3>
                            <h4>{{details.passenger_type}}</h4> 
                        </div>
                        <h6>{{details.id_number}}</h6>
                    </div>
                    
                   <div class="nav_card"> 

                        <div class="nav_card_row">
                            <a href="/Reservation?id_number={{details.id_number}}">
                                <img src = "../images/Van_Logo.png" id = "van_logo">
                                <div>
                                    <h2> Reserve Now </h2>
                                    <p> Start reserving your seat now! </p>
                                </div>
                            </a>
                    
                            <a href="/Schedule">
                                <img src = "../images/Schedule_Logo.png" id = "schedule_logo">
                                <div>
                                    <h2> Schedule </h2>
                                    <p> View seat availability</p>
                                </div>
                            </a>
                        </div>
                        
                        <div class="nav_card_row">
                            <a href="/Settings?id_number={{details.id_number}}">
                                <img src = "../images/ProfileSettings_Logo.png" id = "logout_logo">
                                <div>
                                    <h2> Settings </h2>
                                    <p> View Profile Settings </p>
                                </div>
                            </a>
                                                        
                            <a href="/ReservationAdmin?id_number={{details.id_number}}">
                                <img src = "../images/UserEdit_Logo.png" id = "schedule_logo">
                                <div>
                                    <h2> Edit User Reservation </h2>
                                    <p> Edit reserved schedule of passengers </p>
                                </div>
                            </a>  
                    
                        </div>

                        <div class="nav_card_row">
                            <a href="/Logout" onclick="logoutAccount()">
                                <img src = "../images/Logout_Logo.png" id = "logout_logo">

                                <div>
                                    <h2> Logout </h2>
                                    <p> Exit Arrow Express </p>
                                </div> 
                            </a>
                        </div>

                    </div>  

            </div>
        </div>

{{!-- 
        <div class="content">

            <div id="info_box">
                <div style="position: relative; background: rgba(0, 0, 0, 0.26); border-radius: 20px; width: 50%; height: 6%; margin: auto; top: 45px;">
                    <a href="/Search">
                        <img src="../images/SearchIcon.png" id="searchIcon" style="position: relative; width: 40px; height: 40px; left: 100%; top: 2px; filter:grayscale(); cursor:pointer;">
                    </a>
                    <p class = "sub_text" style="top: -36px; font-size: 25px; color: white; font-style: italic; font-weight: bold;"> {{details.id_number}} </p>
                </div>
                <img src = "{{details.profile_picture}}" id = "profile_picture" >
                <p class = "title_text" style="top: 50px; font-size: 40px; color: white;"> {{details.first_name}} {{details.last_name}} </p>
                <p class = "sub_text" style="top: 80px; font-size: 20px; color: white;"> {{details.passenger_tye}} </p>
            </div>
            
            <div class="right"> 

                <a href="/Reservation?id_number={{details.id_number}}">
                    <div class="box">
                        <img src = "../images/Van_Logo.png" id = "van_logo">
                        <p class = "title_text"> Reserve Now </p>
                        <p class = "sub_text"> Start reserving your seat now! </p>
                    </div>
                </a>
        
                <a href="/Schedule">
                    <div class="box">
                        <img src = "../images/Schedule_Logo.png" id = "schedule_logo">
                        <p class = "title_text" style="top: 50px;"> Schedule </p>
                        <p class = "sub_text" style="top: 50px;"> View seats availability of schedules </p>
                    </div>
                </a>
                
                <a href="/Settings?id_number={{details.id_number}}">
                    <div class="box">
                        <img src = "../images/ProfileSettings_Logo.png" id = "settings_logo">
                        <p class = "title_text" style="top: 50px;" > Settings </p>
                        <p class = "sub_text" style="top: 50px;"> View Profile Settings </p>
                    </div>
                </a>

                <a href="/EditDriver?id_number={{details.id_number}}">
                    <div class="box">
                        <img src = "../images/ProfileSettings_Logo.png" id = "settings_logo">
                        <p class = "title_text" style="top: 50px;" > Drivers </p>
                        <p class = "sub_text" style="top: 50px;"> Add or Remove Drivers </p>
                    </div>
                </a>

                <a href="/ReservationAdmin?id_number={{details.id_number}}">
                    <div class="box">
                        <img src = "../images/UserEdit_Logo.png" id = "user_reserve_logo">
                        <p class = "title_text" style="top: 50px;" > Edit User Reservation </p>
                        <p class = "sub_text" style="top: 50px;"> Edit reserved schedule of a user </p>
                    </div>
                </a>

                <a href="/Logout" onclick="logout_account();">
                    <div class="logout_box">
                        <img src = "../images/Logout_Logo.png" id = "logout_logo">
                        <p class = "title_text" style="top: 40px;" > Logout </p>
                        <p class = "sub_text" style="top: 40px;"> Exit Arrows Express </p>
                    </div>
                </a>

            </div>  

        </div> --}}
        <script>
            $(".navbar_top").on("click", function(){
                $(".arrow").toggleClass("arrow_pressed");
                $(".navbar_content").toggleClass("navbar_open");
            })
        </script>
        
    </body>

    <style>

        a{
            text-decoration: none;
        }

        .content .right{
            top: 10px;
            left: 15px;
            position: relative;
            width: 800px;
            height: 800px;
            display: flex;
            flex-direction: column;
        }

        .content .right .box{
            width: 300px;
            height: 200px;
        }

        .content .right .logout_box{
            width: 300px;
            height: 200px;
        }

        #van_logo{
            width: 150px;
            height: 150px;
            margin: auto;
            display: block;
        }

        #schedule_logo{
            position: relative;
            top: 30px;
            width: 100px;
            height: 100px;
            margin: auto;
            display: block;
        }

        #settings_logo{
            position: relative;
            top: 30px;
            width: 90px;
            height: 90px;
            margin: auto;
            display: block;
        }

        #user_reserve_logo{
            position: relative;
            top: 30px;
            width: 100px;
            height: 100px;
            margin: auto;
            display: block;
        }

        #logout_logo{
            position: relative;
            top: 30px;
            width: 110px;
            height: 110px;
            margin: auto;
            display: block;
        }

        .title_text{
            position: relative;
            bottom: 10px;
            text-align: center;
            font-size: 20px;
            font-weight: bold;
            text-decoration: none;
            color: black;
        }

        .sub_text{
            position: relative;
            text-align: center;
            bottom: 10px;
            font-size: 10px;
            font-style: italic;
            text-decoration: none;
            color: black;
        }

        #success_box{
            width: 380px;
            height: 20px;
            top: 0%;
            margin: auto;
            background: rgb(97, 255, 77);
            padding: 5px;
            border-radius: 20px;
            display: none;
        }

        #success_box p{
            text-align: center;
            font-family: sans-serif;
            font-size: 13px;
            position: relative;
            top: 3px;
        }

        
    </style>

</html>
